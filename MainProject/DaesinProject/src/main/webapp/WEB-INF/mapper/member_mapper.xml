<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
					    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="member">

	<select id="checkMemberIdExist" parameterType="java.lang.String"
		resultType="java.lang.String">
		<![CDATA[
		select m_id
		from member
		where m_id =#{m_id}
		]]>
	</select>

	<select id="returnId" parameterType="java.lang.String"
		resultType="java.lang.String">
		<![CDATA[
		select m_id
		from member
		where m_email =#{m_email}
		]]>
	</select>

	<insert id="addMemberInfo"
		parameterType="com.daesin.beans.MemberBean"> 
		<![CDATA[ insert into MEMBER(m_no, m_id, m_email, m_pw) values 
		(member_seq.nextval, #{m_id}, #{m_email}, #{m_pw}) ]]>
	</insert>


	<!-- m_no 와 m_id 만 select해서 where절에서 id와 pw값을 비교한 결과값을 반환했더니 null만 나왔다.
		 select 구문에 m_pw 도 조회를 하니까 해결됨  -->
	<select id="getLoginMemberInfo"
		parameterType="com.daesin.beans.MemberBean"
		resultType="com.daesin.beans.MemberBean"> 
		<![CDATA[ 
		select m_no, m_id, m_pw
		from member 
		where m_id =#{m_id} and m_pw=#{m_pw}
		]]>
	</select>

	<!-- <select id="checkUserNicknameExist" parameterType="java.lang.String" 
		resultType="java.lang.String"> <![CDATA[ select m_nickname from member where 
		m_nickname =#{m_nickname} ]]> </select> <select id="getModifyUserInfo" parameterType="java.lang.Integer" 
		resultType="com.daesin.beans.BoardBean"> <![CDATA[ select user_id, user_name 
		from user_table where user_idx = #{user_idx} ]]> </select> <update id="modifyUserInfo" 
		parameterType="com.daesin.beans.BoardBean"> <![CDATA[ update user_table set 
		user_pw = #{user_pw} where user_idx = #{user_idx} ]]> </update> -->
</mapper>

